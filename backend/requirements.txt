# ==========================================
# OPTIMIZED FOR FREE-TIER DEPLOYMENT
# Total size: ~100-150MB (Vercel/Render/Railway compatible)
# ==========================================

# Core Framework (Lightweight)
fastapi>=0.115.0           # Updated for anyio>=4.5 compatibility
uvicorn[standard]>=0.24.0
pydantic>=2.10.3
pydantic-settings>=2.0.0   # Required for BaseSettings in Pydantic v2
email-validator>=2.0.0     # Required for EmailStr validation
python-dotenv==1.0.0

# AI/ML - Cloud-only (NO local models, NO heavy frameworks)
google-generativeai==0.3.2  # Embeddings + LLM via API (~10-15MB)
openai>=1.87.0              # API client for Gemini compatibility (~5MB)
openai-agents==0.1.0        # Lightweight agent framework (~3MB)

# Vector Database (client only)
qdrant-client==1.12.1  # Updated for Pydantic v2 compatibility        # Cloud Qdrant access (~10MB)

# Database (precompiled binaries)
psycopg2-binary==2.9.10     # Neon Postgres (~5MB)
asyncpg==0.29.0             # Async Postgres (~2MB)

# HTTP Client
httpx>=0.27.0               # HTTP requests (~3MB) - Required by mcp>=0.27

# Authentication & Security
python-jose[cryptography]==3.3.0  # JWT tokens (~5MB)
passlib[bcrypt]==1.7.4            # Password hashing (~2MB)

# Utilities
tiktoken==0.5.2             # Token counting (~2MB)
python-multipart>=0.0.9     # Form data (~1MB) - Required by mcp>=0.0.9

# ==========================================
# ‚ùå HEAVY PACKAGES EXCLUDED (500MB+ each):
# ==========================================
# - sentence-transformers (PyTorch + local models)
# - torch / tensorflow (ML frameworks)
# - transformers (HuggingFace models)
# - langchain (many dependencies)
# - litellm (not needed, using openai SDK directly)
#
# üí° Why cloud-only embeddings?
# - Textbook data already embedded in Qdrant
# - Only need embeddings for user queries at runtime
# - Google Generative AI: free, fast, lightweight
# - No model loading = fast cold starts (~2-3s)
